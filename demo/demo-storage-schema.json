# feed through jq -S | jq -sR to sort and escape quotes and newlines
{
  "storage": {
		"aliases": {
      "snap-name": {
        "pattern": "^[a-z0-9]{1,7}$",
        "type": "string"
      },
      "snap-rev": {
        "min": 1,
        "type": "int"
      }
    },
    "schema": {
      "data": {
        "schema": {
          "revision": {
            "keys": "$snap-name",
            "type": "map",
            "values": {
              "min": 1,
              "type": "int"
            }
          }
        }
      },
      "snaps": {
        "keys": "$snap-name",
        "values": {
          "schema": {
            "status": {
              "choices": ["enabled", "disabled"],
              "type": "string"
            }
          }
        }
      }
    }
  }
}
