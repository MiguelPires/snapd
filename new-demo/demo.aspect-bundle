type: aspect-bundle
authority-id: NI7Jstuu8gffcoXr02i1kYt898p6Co0A
account-id: NI7Jstuu8gffcoXr02i1kYt898p6Co0A
name: sensors
aspects:
  control:
    rules:
      -
        request: {sen}.power-mode
        storage: power-modes.{sen}
      -
        request: {sen}.sample-min
        storage: params.{sen}.sample-min
      -
        request: {sen}.sample-rate
        storage: params.{sen}.sample-rate
    summary: Control sensor and update sensor parameters
  read-mode:
    rules:
      -
        request: {sen}.power-mode
        storage: power-modes.{sen}
    summary: Read intended sensor state
  read-params:
    rules:
      -
        access: read
        request: {sen}.sample-min
        storage: params.{sen}.sample-min
      -
        access: read
        request: {sen}.sample-rate
        storage: params.{sen}.sample-rate
    summary: Read sensor parameters (sample rate, minimum activation value)
timestamp: 2024-03-25T14:31:32Z
body-length: 824
sign-key-sha3-384: MwnYsB0vnhCuWmR9gtxL3mgLYtk6uU8KDUzpf6klA43pceWd1mRxf0WUawk75HEe

{
  "storage": {
    "aliases": {
      "sen-name": {
        "pattern": "^(?:[a-z0-9]+-?)*[a-z](?:-?[a-z0-9])*$",
        "type": "string"
      }
    },
    "schema": {
      "params": {
        "keys": "$sen-name",
        "values": {
          "schema": {
            "sample-min": {
              "max": 5600,
              "min": -273.15,
              "type": "number"
            },
            "sample-rate": {
              "choices": [
                100,
                500,
                800
              ],
              "type": "int"
            }
          }
        }
      },
      "power-modes": {
        "keys": "$sen-name",
        "values": {
          "choices": [
            "on",
            "off",
            "low-power"
          ],
          "type": "string"
        }
      }
    }
  }
}

AcLBcwQAAQoAHRYhBNDLFCN53St/SiQBL1sZV6rdPCpOBQJmDn/EAAoJEFsZV6rdPCpOnD4P/2lp
5ZnYKyeWu55unOaHMFtx5RIwjYCOsj5njcU/pFff4AY3c17qkXyUCWBDlEvYZklQ0swjY88vWExl
dZVlwPhq0g3FF2g5RVH/PYnSIATYKlpJu8llNH9q3vhry9hODa8w13mGE8JqUApWK44SSBii2FRk
PnKSxDIZKo3odqtIyx/Cwcj30HW29od6GXIG8EDTim4S8+8pNYFLGNRVWjPywjNUBnap40gr4vih
06dfskZXOolCHGktzJjyKTxRPhpxv4ysGPvX6TFiEE+fBAuuCBmwgC55EadabIArpw9YpD+c4dw+
+0de0bWqiMauezYWuRE5zOoK+Bu7zzRkUZIMEo9+n9rsUtr1k93i1f7iW3/kYBolXt5z9poLN96s
XF38ciItvPwVZjdmYKM9Rqse60Z6auUF/YqUGrptsvwVzNDoBhmnk7DM3STYabEfXm9lPdkAKIsk
JJcbrVrFrAVyzHriXBsOZnFetj64PqUFjiN6FU3+EQRkN7qsTyyJn9Xpd+UiJmkQyAfmQMk++Btu
XMEXwhwcYVCrBrdvNff9ktdiCUQy1Ncz9UoPr2VW8FBlHDVY1Xgr6fz4rgI30oVjbWMiUCyDIKrL
Y2Phcacl/16Pz4lgd3O+v2Q/3OCrO75oG6i4+lJVJVZRH+TACvQ6OnHx9YBX4BwwEK3O6U1b
